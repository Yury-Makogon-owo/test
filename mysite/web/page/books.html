<div class="" ng-controller="booksController">
  <div class="page-header">
    <h3 class="header-inline">Books Search</h3>
    <div class="row">
      <div class="input-group col-sm-1 pull-right">
        <button class="btn btn-default" type="button" ng-click="update_books()">Upadte</button>
      </div>
      <div class="input-group col-sm-3 pull-right">
        <span class="input-group-addon">Book name</span>
        <input class="form-control" ng-model="search.title" type="text">
        <span class="input-group-addon">
        </span>
        </div>
      </div>
      <div class="input-group col-sm-1 pull-left">
          <input ng-model="expare_filter" ng-init="expare_filter=true" type="checkbox" >date expared
      </div>
    </div>
    {{expare_filter}}
    <div class="col-md-10 column">
      <table class="table table-stripped">
        <thead>
          <th> Title </th>
          <th> Author </th>
          <th> Current owner </th>
          <th> Publisher </th>
          <th> Pages </th>
          <th> ID </th>
          <th> Return date </th>
          <th> Published </th>
        </thead>
        <tbody>
            <!--<tr ng-repeat="book in books | date_ck:expared_filter">-->
            <!--<tr ng-repeat="book in books | filter:search | filter:filterByDate">-->
            <tr ng-repeat="book in books | filter:search" ng-if=not_expared(book)>
            <td>{{book.title}}</td>
            <td>{{book.author}}</td>
            <td>{{book.owner.username}}</td>
            <td>{{book.publisher}}</td>
            <td>{{book.pages}}</td>
            <td>{{book.id}}</td>
            <td>{{book.returned | date:'medium'}}</td>
            <td>{{book.date | date:'medium'}}</td>
          </tr>
        </tbody>
      </table>
    </div>

  <books-table books="books"></books-table>
</div>
